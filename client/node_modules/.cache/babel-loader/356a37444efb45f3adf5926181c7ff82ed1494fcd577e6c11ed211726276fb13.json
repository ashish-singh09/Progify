{"ast":null,"code":"import _regeneratorRuntime from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var navigate=useNavigate();var _useState=useState({name:\"\",username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var handleInput=function handleInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var formSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data,_error$response,status,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('/register',user);case 4:res=_context.sent;data=res.data.msg;console.log(data);if(!(res.status===201)){_context.next=11;break;}window.alert(\"Registration sucessfull!\");console.log(data);return _context.abrupt(\"return\",navigate(\"/login\"));case 11:_context.next=20;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);_error$response=_context.t0.response,status=_error$response.status,_data=_error$response.data;window.alert(_data.error);console.log(_context.t0.response);if(!(status===400&&_data.error===\"User already exists!\")){_context.next=20;break;}return _context.abrupt(\"return\",navigate(\"/login\"));case 20:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function formSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-holder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Sign Up for Coursely\"}),/*#__PURE__*/_jsxs(\"a\",{className:\"google-btn btn\",href:\"#\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-brands fa-google me-2\"}),\"Continue with Google\"]}),/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleInput,name:\"name\",placeholder:\"Name\",value:user.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleInput,name:\"username\",placeholder:\"Email\",value:user.username})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:handleInput,name:\"password\",placeholder:\"password\",value:user.password,autoComplete:\"true\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn my-btn\",onClick:formSubmit,children:\"Sign Up\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Have an Account?\\xA0\",/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(Link,{className:\"custom-link\",to:\"/login\",children:\"Login\"})})]})})]})})})});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
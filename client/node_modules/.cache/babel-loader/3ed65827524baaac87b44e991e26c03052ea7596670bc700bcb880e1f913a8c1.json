{"ast":null,"code":"import _regeneratorRuntime from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/education-website/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CardActive from\"./components-sm/CardActive\";import Recommended from\"./components-sm/Recommended\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var navigate=useNavigate();var fetchUserData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,Courses;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"fetchUserdata called\");_context.prev=1;_context.next=4;return axios.get('/dashboard');case 4:res=_context.sent;Courses=res.data;if(res.status===401){window.alert(\"unAuthorized access\");}else{Courses.forEach(function(course){var name=course.name,_id=course._id;var _course$lessons=_slicedToArray(course.lessons,1),lessonName=_course$lessons[0].lessonName;setUserData(function(prevValue){return[].concat(_toConsumableArray(prevValue),[{_id:_id,name:name,lessonName:lessonName}]);});});}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);navigate(\"/login\");case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function fetchUserData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchUserData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[userData?/*#__PURE__*/_jsx(\"h2\",{children:\"Hey! Pick up where you left off..\"}):/*#__PURE__*/_jsx(\"h2\",{children:\"Hey! Pick some course to continue\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"My Courses\"})]})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:userData&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:userData.map(function(course){return/*#__PURE__*/_jsx(CardActive,{id:course._id,course:course.name,chapter:course.lessonName,module:\"4\"});})})})}),userData&&/*#__PURE__*/_jsx(Recommended,{})]});};export default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}